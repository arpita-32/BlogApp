{"version":3,"sources":["commentController.js"],"names":["Post","require","Comment","exports","createComment","req","res","_req$body","post","user","body","comment","savedComment","updatedPost","regeneratorRuntime","async","_context","prev","next","awrap","save","sent","findByIdAndUpdate","$push","new","exec","t0","abrupt","status","json","stop"],"mappings":"aAAA,IAAMA,KAAOC,QAAQ,uBACfC,QAAUD,QAAQ,0BAExBE,QAAQC,cAAgB,SAAOC,EAAKC,GAAZ,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAF,EAAAC,KAAA,EAAAV,EAAAF,EAAAK,KAAhBN,EAAgBG,EAAhBH,KAARK,EAAwBF,EAAxBE,KAAwBC,EAAAH,EAAAG,KAKVC,EAAU,IAAIT,QAAQ,CALZM,KAAAA,EAAAC,KAAAA,EAAAC,KAAAA,IAAAM,EAAAE,KAAA,EAAAJ,mBAAAK,MAAAR,EAAAS,QAAA,KAAA,EAAA,OAAAR,EAAAI,EAAAK,KAAAL,EAAAE,KAAA,EAAAJ,mBAAAK,MAGTX,KAHSc,kBAGHb,EAHG,CAAAc,MAAA,CAGHd,SAHGG,EAGGF,MAHH,CAAAc,KAAA,IAKItB,SAAQ,YAAAuB,QALZ,KAAA,EAAAZ,EAAAG,EAAAK,KAMFX,EAAAA,KAAI,CANFF,KAAAK,IAAAG,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAA,OAAAF,EAAAC,KAAA,GAAAD,EAAAU,GAAAV,EAAA,MAAA,GAAAA,EAAAW,OAAA,SAAArB,EAAAsB,OAAA,KAAAC,KAAA,CASVjB,MAAAA,kCATU,KAAA,GAAA,IAAA,MAAA,OAAAI,EAAAc,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA","file":"commentController.min.js","sourcesContent":["const Post = require(\"../models/postModel\");\nconst Comment = require(\"../models/commentModel\");\n\nexports.createComment = async (req, res) => {\n\n    try{\n        const {post, user, body} = req.body;\n\n        const comment = new Comment({\n            post,user,body\n        });\n\n        const savedComment = await comment.save();\n\n        const updatedPost = await Post.findByIdAndUpdate(post, {$push: {comments: savedComment._id}}, {new: true} )\n                            .populate(\"comments\")\n                            .exec();\n        \n        res.json({\n            post: updatedPost,\n        });\n    }\n    catch(error) {\n        return res.status(500).json({\n            error: \"Error While Creating comment\" ,\n        })\n\n    }\n}"]}