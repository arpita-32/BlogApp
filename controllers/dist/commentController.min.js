"use strict";var Post=require("../models/postModel"),Comment=require("../models/commentModel");exports.createComment=function(r,t){var n,o,s,a,u,c,m;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.body,o=n.post,s=n.user,a=n.body,u=new Comment({post:o,user:s,body:a}),e.next=5,regeneratorRuntime.awrap(u.save());case 5:return c=e.sent,e.next=8,regeneratorRuntime.awrap(Post.findByIdAndUpdate(o,{$push:{comments:c._id}},{new:!0}).populate("comments").exec());case 8:m=e.sent,t.json({post:m}),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",t.status(500).json({error:"Error While Creating comment"}));case 15:case"end":return e.stop()}},null,null,[[0,12]])};
//# sourceMappingURL=commentController.min.js.map
